/*
#
# Copyright (c) 2012 NVIDIA CORPORATION.  All Rights Reserved.
#
# NVIDIA CORPORATION and its licensors retain all intellectual property
# and proprietary rights in and to this software, related documentation
# and any modifications thereto.  Any use, reproduction, disclosure or
# distribution of this software and related documentation without an express
# license agreement from NVIDIA CORPORATION is strictly prohibited.
*/

#ifndef VOLT_CAP_H
#define VOLT_CAP_H

struct volt_time {
	int volt;
	unsigned long time;
};

struct status_data {
	int service_state;
	unsigned int seconds_uncounted;
	float points_consumed;
	float points_balance;
};

struct saved_data {
	float balance_points;
	struct timespec saved_time;
	unsigned int edid;
};

struct thread_data {
	pthread_t t;
	pthread_attr_t a;
	void * (*f)(void *);
	void *d;
};

/* Temp and volt range to be same as provided by ASIC */
int temp_range[] = {0, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000};
int volt_range[] = {1000, 1010, 1020, 1030, 1040, 1050, 1060, 1070, 1080, 1090,
	1100, 1110, 1120, 1130, 1140, 1150, 1160, 1170, 1180, 1190,
	1200, 1210, 1220, 1230, 1240, 1250, 1260, 1270, 1280, 1290,
	1300};

/* Burnout table entries = temp * volt number */
float burnout_table[] = {
	/* 20000,		30000,			40000,			50000,			60000,			70000,			80000,			90000,			100000 */
	/*1000*/5.9380207283654E-05 ,	9.2850175268853E-05 ,	0.00017505589397845 ,	0.00031733537423405 ,	0.00055506547477196 ,	0.00093974713097888 ,	0.0015442662369887 ,	0.0024691554434256 ,	0.0038498664537238,
	/*1010*/9.1156227616296E-05 ,	0.00011850879478935 ,	0.00022343159779816 ,	0.00040502920576738 ,	0.00070845467177563 ,	0.0011994409227186  ,	0.0019710154563468,	0.0031514925513134 ,	0.0049137552213519,
	/*1020*/0.00013876536559756 ,	0.00017784587967716 ,	0.00028517565310188 ,	0.00051695673046385 ,	0.00090423210372959 ,	0.001530899621469   ,	0.0025156944030154,	0.0040223896504486 ,	0.0062716436181854,
	/*1030*/0.00020952325729385 ,	0.00026853132873455 ,	0.00036398232803021 ,	0.00065981479203589 ,	0.0011541115190418  ,	0.0019539550524103 ,	0.0032108922885327 ,	0.0051339542253696 ,	0.0080047767749214,
	/*1040*/0.00031386437320446 ,	0.00040225805129036 ,	0.00050743646393905 ,	0.00084215086898809 ,	0.0014730436940816  ,	0.0024939194531752 ,	0.0040982041682811 ,	0.0065526933685428 ,	0.010216851453505 ,
	/*1000*/0.00046656135404167 ,	0.00059795910943335 ,	0.00075430747774389 ,	0.0010748744870497  ,	0.0018801109675043 ,	0.0031830999547575  ,	0.0052307196553738,	0.0083634930303755 ,	0.013040220428133 ,
	/*1010*/0.00068837814659452 ,	0.00088224620390284 ,	0.0011129271187886  ,	0.0013838767162114 ,	0.0023996689740651  ,	0.004062731580636  ,	0.0066761993765161,	0.010674696912408  ,	 0.016643811411781,
	/*1020*/0.0010082959783993  ,	0.0012922625503934 ,	0.0016301504393734  ,	0.00202702153527   ,	0.0030628038900995 ,	0.0051854444192452  ,	0.0085211292234336,	0.013624588883845  ,	 0.021243234333162,
	/*1030*/0.0014664908173599  ,	0.0018794988816463 ,	0.0023709314541266  ,	0.0029481506737568 ,	0.0039091923805295  ,	0.0066184125855718 ,	0.010875894973697  ,	 0.017389666777145 ,	0.027113681702391 ,
	/*1040*/0.0021182904055273  ,	0.0027148649013419 ,	0.0034247206269459  ,	0.0042584919130355 ,	0.0052264040294894  ,	0.0084473733804346 ,	0.013881386888677  ,	 0.02219520260011  ,	 0.034606393919542,
	/*1000*/0.0030394003011551  ,	0.0038953871372891 ,	0.0049139140118612  ,	0.0061102394502537 ,	0.0074990350424754  ,	0.010781757121645  ,	0.017717429454694 ,	0.028328721002715  ,	 0.044169674677892,
	/*1010*/0.0043327640242645  ,	0.0055530011109806 ,	0.0070049443111623  ,	0.0087103451492189 ,	0.010690118454087   ,	0.013761234574926  ,	0.022613540635346 ,	0.036157202441833  ,	 0.056375713854691,
	/*1020*/0.0061375151825992  ,	0.0078660246523395 ,	0.0099227541177526  ,	0.012338515391012  ,	0.015142935075233  ,	0.018364148271021  ,	0.028862664382216 ,	0.046149040342993  ,	 0.071954822755731,
	/*1030*/0.0086405925952073  ,	0.011074044192578  ,	0.013969574527	 ,	0.01737056146528   ,	0.021318714298537  ,	0.025853642532363  ,	0.036838698047062 ,	0.058902065999309  ,	 0.09183913007565 ,
	/*1040*/0.012091726647747   ,	0.015497121729358  ,	0.019549154147079  ,	0.024308527296213  ,	0.029833609551537  ,	0.036179830828188  ,	0.04701886339498  ,	 0.075179317992333 ,	0.11721835298914  ,
	/*1000*/0.016822670651614   ,	0.021560442316941  ,	0.027197851168362  ,	0.033819351085492  ,	0.041506147339832  ,	0.050335357057308  ,	0.060379322200715 ,	0.095954696289578  ,	 0.149610980267   ,
	/*1010*/0.023271749657746   ,	0.029825776566695  ,	0.037624322363943  ,	0.046784216867107  ,	0.057417795910868  ,	0.069631739967434  ,	0.083526123756376 ,	0.12247123259304   ,	 0.19095512644276 ,
	/*1020*/0.032015036438718   ,	0.041031436726459  ,	0.051759926485063  ,	0.064361228948627  ,	0.078989884961462  ,	0.09579265526375   ,	0.11490721303609  ,	 0.15631546336818  ,	 0.24372449301311 ,
	/*1030*/0.043805746314863   ,	0.056142766278407  ,	0.070822415374125  ,	0.088064609054346  ,	0.10808080349012   ,	0.13107180944002   ,	0.15722600327637  ,	 0.19951235543781  ,	 0.3110763748587  ,
	/*1040*/0.059623775996806   ,	0.076415630414428  ,	0.096396025294672  ,	0.11986428642858   ,	0.14710822572296   ,	0.17840116566844   ,	0.2139995043765   ,	 0.25464646372565  ,	 0.39704056740011 ,
	/*1000*/0.080737704249013   ,	0.10347587795735   ,	0.13053171576115   ,	0.16231054048319   ,	0.19920208377365   ,	0.24157645688508   ,	0.28978085344193  ,	 0.34413696084106  ,	 0.50676047717545 ,
	/*1010*/0.10878203235785	,	0.13941833507547   ,	0.17587204713996   ,	0.21868928069102   ,	0.26839514108528   ,	0.32548829811553   ,	0.39043654348383  ,	 0.46367330304912  ,	 0.64680086195901 ,
	/*1020*/0.14585297937485	,	0.18692957935688   ,	0.23580605646101   ,	0.29321462795624   ,	0.35985934559715   ,	0.436408816813	 ,	0.52349024824806  ,	 0.62168476944636  ,	 0.82554061311708 ,
	/*1030*/0.19462677105135	,	0.24943954247732   ,	0.3146604996351	,	0.39126671603656   ,	0.48019768102387   ,	0.58234558689652   ,	0.6985473805889   ,	 0.82957852357736  ,	 1.0971026633682  ,
	/*1040*/0.25850508335358	,	0.33130791499781   ,	0.417934995514	 ,	0.5196840830074	,	0.63780301594028   ,	0.77347681240396   ,	0.92781711308314  ,	 1.1018538931066   ,	 1.5323907449406  ,
	/*1050*/0.34179313346593	,	0.43805239316813   ,	0.55258995238564   ,	0.68712169540014   ,	0.84329750318324   ,	1.022684196168	 ,	1.2267515758297   ,	 1.4568614661686   ,	 2.1346472497354  ,
	/*1010*/0.44991686623778	,	0.57662703163056   ,	0.72739770155918   ,	0.90448756762176   ,	1.1100684384467	,	1.3462027865362	,	1.6148253742042   ,	 1.9177288284128   ,	 2.9657575131736  ,
	/*1020*/0.58968677607373	,	0.75576036551491   ,	0.95336902824439   ,	1.1854731346474	,	1.4549191813203	,	1.7644103626791	,	2.1164824888634   ,	 2.5134850792919   ,	 4.1097577164375  ,
	/*1030*/0.76961714826052	,	0.98636455975602   ,	1.244269301141	 ,	1.5471950368321	,	1.8988568112934	,	2.3027826411976	,	2.7622820851908   ,	 3.2804215685483   ,	 5.6804869724108  ,
	/*1040*/1.0003109156049	 ,	1.2820286529736	,	1.6172406847958	,	2.0109688140538	,	2.4680416747479	,	2.993044811257	 ,	3.5902798268483   ,	 4.2637323118663   ,	 7.8317890430255  ,
	/*1050*/1.2949219229355	 ,	1.659611009606	 ,	2.0935495001961	,	2.6032382162731	,	3.194927918403	 ,	3.8745546829119	,	4.647687018838	,	 5.5194843503484   ,	 10.771082503414  ,
};

#endif
